<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contact - SQR</title>
  <link rel="icon" type="image/jpeg" href="logo-sqr.jpg">
  <style>
    :root{
      --bg:#0b0f1a;
      --bg-soft:#12182a;
      --text:#e9eefc;
      --muted:#a9b4d0;
      --brand:#1a5cb5;
      --accent:#66e5d0;
      --radius:20px;
      --shadow:0 10px 30px rgba(0,0,0,.25);
    }
    html{scroll-behavior:smooth}
    body{margin:0;font-family:Arial,Helvetica,sans-serif;background:var(--bg);color:var(--text)}
    a{text-decoration:none;color:inherit}
    .container{max-width:1100px;margin:0 auto;padding:0 20px}
    header{background:var(--bg-soft);padding:10px 0;box-shadow:var(--shadow)}
    .nav{display:flex;justify-content:space-between;align-items:center}
    .brand img{height:42px;width:auto;vertical-align:middle;margin-right:8px}
    .brand{display:flex;align-items:center;font-weight:bold;font-size:1.1em}
    .menu{display:flex;gap:20px}
    .btn{background:var(--brand);color:#fff;padding:10px 16px;border-radius:var(--radius)}
    .form-container{max-width:500px;margin:40px auto;background:var(--bg-soft);padding:20px;border-radius:var(--radius);box-shadow:var(--shadow);scroll-margin-top:90px}
    .form-container label{display:block;margin-top:10px}
    .form-container input,.form-container textarea{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.1);background:#0f1424;color:var(--text);margin-top:4px}
    .form-container button{margin-top:12px;width:100%;padding:12px;border:none;border-radius:999px;background:var(--brand);color:#fff;font-weight:bold;font-size:16px;cursor:pointer}
    .form-container button:hover{background:#154a91}
    .success-message{display:none;margin-top:15px;padding:10px;border-radius:8px;background:var(--brand);color:#fff;text-align:center}
    /* Bouton retour haut */
    #backToTop{
      position:fixed;bottom:20px;right:20px;z-index:99;background:var(--brand);color:#fff;border:none;
      padding:10px;border-radius:50%;cursor:pointer;box-shadow:var(--shadow);font-size:18px;display:none;
      align-items:center;justify-content:center;width:44px;height:44px;
    }
    #backToTop:hover{background:var(--accent);color:var(--bg)}
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <a href="index.html" class="brand"><img src="logo-sqr.jpg" alt="Logo SQR - Sur Quatre Roues"> Sur Quatre Roues</a>
      <nav class="menu">
        <a href="index.html#services">Nos services</a>
        <a href="index.html#catalogue">Nos véhicules</a>
        <a href="index.html#contact">Contact</a>
        <a class="btn" href="index.html">⬅ Retour</a>
      </nav>
    </div>
  </header>

  <div class="form-container" id="form">
    <h1>Contactez-nous</h1>
    <form action="https://formsubmit.co/contact@sqr-auto.fr" method="POST">
      <input type="hidden" name="_captcha" value="false">
      <input type="hidden" name="_next" id="_next" value="">
      <input type="hidden" name="_subject" value="Nouveau message – SQR">
      <input type="hidden" name="_template" value="table">

      <label for="nom">Nom</label>
      <input type="text" id="nom" name="Nom" required>

      <label for="email">Email</label>
      <input type="email" id="email" name="Email" required>

      <label for="message">Message</label>
      <textarea id="message" name="Message" rows="5" required></textarea>

      <button type="submit">Envoyer</button>
    </form>
    <div class="success-message" id="successMessage">✅ Merci, votre message a bien été envoyé.</div>
  </div>

  <footer>
    <div class="container">
      © <span id="year"></span> SQR - Sur Quatre Roues. Tous droits réservés.
    </div>
  </footer>

  <button id="backToTop" title="Retour en haut">↑</button>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
    const urlParams = new URLSearchParams(window.location.search);
    if(urlParams.get('success') === 'true'){
      document.getElementById('successMessage').style.display = 'block';
    }
    const next = location.origin + location.pathname.replace(/[^/]+$/, '') + 'contact.html?success=true';
    document.getElementById('_next').value = next;

    // Scroll auto vers le formulaire si #form présent
    if(location.hash === '#form'){
      const formEl = document.getElementById('form');
      if(formEl){
        formEl.scrollIntoView({behavior:'smooth'});
        const nameField = document.getElementById('nom');
        if(nameField) nameField.focus();
      }
    }

    // Bouton retour haut
    const btn = document.getElementById('backToTop');
    window.addEventListener('scroll', () => {
      if(document.documentElement.scrollTop > 300){
        btn.style.display = 'flex';
      } else {
        btn.style.display = 'none';
      }
    });
    btn.addEventListener('click', () => {
      window.scrollTo({top:0, behavior:'smooth'});
    });
  </script>
</body>
</html>
